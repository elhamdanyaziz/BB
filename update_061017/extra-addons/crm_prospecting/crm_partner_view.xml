<?xml version="1.0" encoding="UTF-8"?>
<openerp>

    <data>

        <record model="ir.ui.view" id="crm_view_partner_form_inherit">
            <field name="name">crm.res.partner.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <xpath expr="//page[@name='sales_purchases']//field[@name='supplier']" position="after">
                    <field name="provider_foreign_ok" attrs="{'invisible': [('supplier', '=', False)]}"/>
                    <field name="local_ok" attrs="{'invisible': [('supplier', '=', False)]}"/>
                    <field name="owner"/>
                    <field name="office_study"/>
                </xpath>
                <xpath expr="//page[@name='sales_purchases']//field[@name='supplier']" position="replace">
                    <field name="supplier" groups="crm_prospecting.group_editors"/>
                    <field name="supplier_related" groups="crm_prospecting.group_viewers" attrs="{'invisible': [('supplier', '=', False)]}"/>
                </xpath>
                <xpath expr="//page[@name='sales_purchases']//field[@name='customer']" position="replace">
                    <field name="customer" groups="crm_prospecting.group_editors"/>
                    <field name="customer_related" groups="crm_prospecting.group_viewers" attrs="{'invisible': [('customer', '=', False)]}"/>
                </xpath>

                <xpath expr="//field[@name='category_id']" position="replace">
                    <div class="oe_title oe_left">
                        <label for="categ_id" attrs="{'invisible': [('customer', '=', False)]}"/>
                        <field name="categ_id" placeholder="Catégorie..." attrs="{'invisible': [('customer', '=', False)]}"/>
                        <label for="customer_class" attrs="{'invisible': [('customer', '=', False)]}"/>
                        <field name="customer_class" placeholder="Classe..." attrs="{'invisible': [('customer', '=', False)]}"/>
                        <label for="customer_code" />
                        <field name="customer_code" />
                        <label for="tax_identification" attrs="{'invisible': [('customer', '=', False),('supplier', '=', False)]}"/>
                        <field name="tax_identification" attrs="{'invisible': [('customer', '=', False),('supplier', '=', False)]}"/>
                    </div>
                </xpath>

                <xpath expr="//field[@name='user_id']" position="replace">
                    <field name="user_id" context="{'default_groups_ref': ['base.group_partner_manager']}" string="KAM"/>
                </xpath>
                <xpath expr="//field[@name='website']" position="replace">
                    <field name="website" widget="url" placeholder="e.g. www.odoo.com" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='website']" position="replace">
                    <field name="title" options="{&quot;no_open&quot;: True}" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='mobile']" position="replace">
                    <field name="mobile" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='street2']" position="replace">
                    <field name="street2" attrs="{'readonly': [('use_parent_address','=',True)]}" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='state_id']" position="replace">
                    <field name="state_id" class="oe_no_button" placeholder="State" style="width: 37%" options="{&quot;no_open&quot;: True}" on_change="onchange_state(state_id)" attrs="{'readonly': [('use_parent_address','=',True)]}" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='city']" position="before">
                    <field name="city_id" style="width: 40%"/>
                </xpath>
                <xpath expr="//field[@name='city']" position="replace">
                    <field name="city" placeholder="City" style="width: 40%" attrs="{'readonly': [('use_parent_address','=',True)]}" invisible="1"/>
                </xpath>
                <xpath expr="//field[@name='zip']" position="replace">
                    <field name="zip" placeholder="ZIP" style="width: 60%" attrs="{'readonly': [('use_parent_address','=',True)]}"/>
                </xpath>
                <xpath expr="//field[@name='title']" position="replace">
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="view_partner_property_form_inherit">
            <field name="name">res.partner.property.form.inherit.form</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="account.view_partner_property_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='credit']" position="replace">
                    <field name="credit" string="Encours Client" attrs="{'invisible': [('customer', '=', False)]}"/>
                </xpath>
                <xpath expr="//field[@name='credit_limit']" position="replace">
                    <field name="credit_limit" string="Plafond de l'Encours" attrs="{'invisible': [('customer', '=', False)],'readonly': [('accounting_readonly', '=', True)]}"/>
                </xpath>
                <xpath expr="//field[@name='credit_limit']" position="after">
                    <field name="customer_discount" attrs="{'invisible': [('customer', '=', False)],'readonly': [('accounting_readonly', '=', True)]}"/>
                    <!--<group colspan="4">-->
                        <!--&lt;!&ndash;<label for="garanty" string="MG" />&ndash;&gt;-->
                        <!--<group col="6" colspan="4">-->
                            <!--<field name="garanty" nolabel="0" string="MG" />-->
                            <!--<field name="amount_garanty" nolabel="1" colspan="2"/>-->
                            <!--<field name="deadline_garanty" nolabel="1" />-->
                            <!--<button class="" type="object" string="Régulariser" name="action_garanty_payed" icon="" attrs="{'invisible': ['|',('deadline_ok', '=', True),('customer', '=', False)]}"/>-->
                        <!--</group>-->
                    <!--</group>-->
                    <field name="deadline_ok" invisible="1"/>
                    <field name="due_date" readonly="1" invisible="1"/>
                    <field name="classification_id" invisible="1"/>
                    <field name="accounting_readonly" invisible="1"/>
                </xpath>

                <xpath expr="//field[@name='property_payment_term']" position="replace">
                    <field name="property_payment_term" widget="selection" string="Échéance de paiement" attrs="{'invisible': [('customer', '=', False)],'readonly': [('accounting_readonly', '=', True)]}"/>
                </xpath>
                <xpath expr="//field[@name='property_payment_term']" position="before">
                    <field name="payment_condition" attrs="{'invisible': [('customer', '=', False)],'readonly': [('accounting_readonly', '=', True)]}"/>
                </xpath>
                <xpath expr="//field[@name='property_supplier_payment_term']" position="replace">
                    <field name="property_supplier_payment_term" widget="selection" string="Échéance de paiement fournisseur" attrs="{'invisible': [('supplier', '=', False)]}"/>
                </xpath>
                <xpath expr="//field[@name='bank_ids']" position="replace">
                    <field name="bank_ids" context="{'default_partner_id': active_id, 'form_view_ref': 'base.view_partner_bank_form'}" attrs="{'readonly': [('accounting_readonly', '=', True)]}">
                        <tree string="Bank Details" >
                            <field name="state" invisible="1"/>
                            <field name="sequence" invisible="1"/>
                            <field name="acc_number"/>
                            <field name="bank_name"/>
                            <field name="bank_tel"/>
                            <field name="owner_name"/>
                        </tree>
                    </field>
                </xpath>
                <xpath expr="//field[@name='bank_ids']" position="before">
                    <group colspan="4" attrs="{'invisible': [('customer', '=', False)]}">
                        <label for="garanty" string="MG" />
                        <group col="4" >
                            <field name="garanty" nolabel="1" attrs="{'readonly': [('accounting_readonly', '=', True)]}"/>
                            <field name="amount_garanty" nolabel="1" attrs="{'readonly': [('accounting_readonly', '=', True)]}"/>
                            <field name="deadline_garanty" nolabel="1" attrs="{'readonly': [('accounting_readonly', '=', True)]}"/>
                            <button class="" type="object" string="Régulariser" name="action_garanty_payed" icon="" attrs="{'invisible': ['|','|',('deadline_ok', '=', True),('customer', '=', False),('accounting_readonly', '=', True)]}"/>
                        </group>
                    </group>
                </xpath>
                <xpath expr="//field[@name='property_account_payable']" position="replace">
                    <field name="property_account_payable" attrs="{'invisible': [('supplier', '=', False)],'required': [('supplier', '=', True)]}"/>
                </xpath>
                <xpath expr="//field[@name='property_account_receivable']" position="replace">
                    <field name="property_account_receivable" attrs="{'invisible': [('customer', '=', False)],'required': [('customer', '=', True)],'readonly': [('accounting_readonly', '=', True)]}"/>
                </xpath>
                <xpath expr="//field[@name='property_account_payable']" position="after">
                    <!--<field name="property_account_expense" attrs="{'invisible': [('supplier', '=', False)],'required': [('supplier', '=', True)]}"/>-->
                    <!--<field name="taxe_ids" widget="many2many_tags" attrs="{'invisible': [('supplier', '=', False)],'required': [('supplier', '=', True)]}"/>-->
                    <field name="property_account_expense" attrs="{'invisible': [('supplier', '=', False)]}"/>
                    <field name="taxe_ids" widget="many2many_tags" attrs="{'invisible': [('supplier', '=', False)]}"/>
                </xpath>

                <xpath expr="//page[@name='accounting']" position="attributes">
                    <attribute name="attrs">{'invisible': [('customer', '=', False),('supplier', '=', False),'|',('customer', '=', False),('supplier', '=', False)]}</attribute>
                </xpath>
                <xpath expr="//page[@string='Accounting']" position="before">
                    <page string="Contentieux" attrs="{'invisible': [('customer', '=', False)]}" >
                        <group>
                            <field name="litigation" nolabel="1"/>
                        </group>
                    </page>
                </xpath>
                <xpath expr="//field[@name='property_account_position']" position="replace">
                     <field name="property_account_position" widget="selection" attrs="{'readonly': [('accounting_readonly', '=', True)]}"/>
                </xpath>
                <xpath expr="//field[@name='last_reconciliation_date']" position="replace">
                     <field name="last_reconciliation_date" attrs="{'readonly': [('accounting_readonly', '=', True)]}"/>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="crm_view_users_form_inherit">
            <field name="name">crm.res.users.form</field>
            <field name="model">res.users</field>
            <field name="inherit_id" ref="sales_team.res_user_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='default_section_id']" position="replace">
                    <field name="default_section_id" string="BU"/>
                </xpath>
                <xpath expr="//field[@name='active']" position="after">
                    <field name="force_picking_out_ok" groups="crm_prospecting.group_force_picking_out"/>
                    <field name="accounting_readonly" />
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="view_partners_form_crm1_inherit">
            <field name="name">crm.res.partner.form.inherited1_inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="crm.view_partners_form_crm1"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='section_id']" position="after">
                    <field name="blocking_ok" attrs="{'invisible': [('customer', '=', False)]}" groups="crm_prospecting.group_force_picking_out"/>
                    <field name="blocking_ok_related" attrs="{'invisible': [('customer', '=', False)]}" groups="crm_prospecting.group_viewers"/>
                    <field name="blocking_id" attrs="{'invisible': [('blocking_ok', '=', False)]}" groups="crm_prospecting.group_force_picking_out"/>
                    <field name="blocking_id_related" attrs="{'invisible': [('blocking_ok', '=', False)]}" groups="crm_prospecting.group_viewers"/>
                </xpath>
                <xpath expr="//field[@name='section_id']" position="replace">
                    <field name="section_id" completion="1" groups="base.group_multi_salesteams" string="BU"/>
                </xpath>
                <xpath expr="//button[@name='%(crm.crm_case_category_act_oppor11)d']" position="replace">
                    <button class="oe_inline oe_stat_button" type="action" attrs="{'invisible': [('customer', '=', False)]}" name="%(crm.crm_case_category_act_oppor11)d" icon="fa-star" context="{'search_default_partner_id': active_id}" invisible="1">
                        <field string="Opportunities" name="opportunity_count" widget="statinfo" invisible="1"/>
                    </button>
                </xpath>
                <xpath expr="//button[@name='schedule_meeting']" position="replace">
                    <button class="oe_inline oe_stat_button" type="object" name="schedule_meeting" icon="fa-calendar" context="{'partner_id': active_id}" invisible="1">
                        <field string="Meetings" name="meeting_count" widget="statinfo" invisible="1"/>
                    </button>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="partner_view_button_journal_item_count_inherit">
            <field name="name">partner.view.button.journal_item_count.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="account.partner_view_button_journal_item_count"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='%(account.action_account_moves_all_tree)d']" position="replace">
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="res_partner_opt_out_form_inherit">
            <field name="name">res.partner.opt_out.form.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="email_template.res_partner_opt_out_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='opt_out']" position="replace">
                    <field name="opt_out" invisible="1"/>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="view_partners_form_crm_calls_inherit">
            <field name="name">view.res.partner.form.crm.inherited.calls.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="crm.view_partners_form_crm_calls"/>
            <field name="arch" type="xml">
                <xpath expr="//button[@name='%(crm.crm_case_categ_phone_incoming0)d']" position="replace">
                    <button class="oe_inline oe_stat_button" type="action" name="%(crm.crm_case_categ_phone_incoming0)d" icon="fa-phone" context="{'search_default_partner_id': active_id, 'default_duration': 1.0}" invisible="1">
                        <field string="Calls" name="phonecall_count" widget="statinfo" invisible="1"/>
                    </button>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="view_emails_partner_info_form_inherit">
            <field name="name">res.partner.emails.info.inherit.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="mail.view_emails_partner_info_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='notify_email']" position="replace">
                    <field name="notify_email" widget="radio" invisible="1"/>
                </xpath>
            </field>
        </record>

        <record model="ir.ui.view" id="view_partner_inherit_followup_form_inherit">
            <field name="name">res.partner.followup.form.inherit.inherit1</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="account_followup.view_partner_inherit_followup_form"/>
            <field name="arch" type="xml">

                <xpath expr="//field[@name='date_maturity']" position="after">
                    <field name="deadline_delay" />
                </xpath>

                <xpath expr="//field[@name='result']" position="after">
                    <field name="note" />
                </xpath>
                <xpath expr="//button[@name='action_done']" position="replace">
                    <button name="action_done" type="object" string="⇾ Mark as Done" help="Click to mark the action as done." class="oe_link" attrs="{'invisible':[('payment_next_action_date','=', False)]}" groups="account.group_account_user,crm_prospecting.group_dc"/>
                </xpath>
                <xpath expr="//button[@name='do_partner_mail']" position="replace">
                    <button name="invoice_action_followup_send" type="object" string="Send Overdue Email" groups="account.group_account_user,crm_prospecting.group_dc" help="If not specified by the latest follow-up level, it will send from the default email template" attrs="{'invisible':[('payment_amount_due', '&lt;=', 0.0)]}"/>
                </xpath>
                <xpath expr="//button[@name='do_button_print']" position="replace">
                    <button name="do_button_print" type="object" string="Print Overdue Payments" groups="account.group_account_user,crm_prospecting.group_dc" help="Print overdue payments report independent of follow-up line" attrs="{'invisible':[('payment_amount_due', '&lt;=', 0.0)]}"/>
                </xpath>
                <xpath expr="//page[@name='followup_tab']" position="attributes">
                    <attribute name="attrs">{'invisible': [('customer', '=', False)]}</attribute>
                    <attribute name="groups">account.group_account_invoice,crm_prospecting.group_dc</attribute>
                </xpath>

                <xpath expr="//page[@name='followup_tab']" position="after">
                    <page string="Impayés" attrs="{'invisible': [('customer', '=', False)]}">
                        <field name="voucher_ids" nolabel="1"/>
                    </page>
                    <page string="Relance des Impayés" groups="" name="followup_unpaid_tab" attrs="{'invisible': [('customer', '=', False)]}">
                        <div class="oe_right oe_button_box" name="followup_button">
                            <button name="do_button_print" type="object" string="Print Overdue Payments" groups="account.group_account_user,crm_prospecting.group_dc" help="Print overdue payments report independent of follow-up line" attrs="{'invisible':[('payment_amount_due', '&lt;=', 0.0)]}"/>
                            <button name="unpaid_action_followup_send" type="object" string="Send Overdue Email" groups="account.group_account_user,crm_prospecting.group_dc" help="If not specified by the latest follow-up level, it will send from the default email template" attrs="{'invisible':[('unpaid_amount_due', '&lt;=', 0.0)]}"/>
                        </div>
                        <group>
                            <field name="unpaid_responsible_id" placeholder="Responsible of credit collection" class="oe_inline"/>
                            <label for="unpaid_next_action"/>
                            <div>
                                <field name="unpaid_next_action_date" class="oe_inline"/>
                                <button name="unpaid_action_done" type="object" string="⇾ Terminer" class="oe_link" attrs="{'invisible':[('unpaid_next_action_date','=', False)]}" groups="account.group_account_user"/>
                                <field name="unpaid_next_action"/>
                            </div>
                        </group>
                        <label for="unpaid_note" class="oe_edit_only"/>
                        <field name="unpaid_note" />
                        <p class="oe_grey">
                            Below is the history of the transactions of this
                            customer. You can check "No Follow-up" in
                            order to exclude it from the next follow-up actions.
                        </p>
                        <field name="unpaid_aml_ids">
                            <tree string="Account Move line" editable="bottom" create="false" delete="false" colors="red:(not date_maturity or date_maturity&lt;=current_date) and result&gt;0">
                                <field name="date" readonly="True"/>
                                <field name="company_id" readonly="True" groups="base.group_multi_company"/>
                                <field name="move_id" readonly="True"/>
                                <field name="blocked"/>
                                <field name="date_maturity" readonly="True" invisible="1"/>
                                <field name="reconcile_partial_id" readonly="True"/>
                                <field name="result" readonly="True"/>
                                <field name="followup_line_id" invisible="1"/>
                                <field name="note"/>
                            </tree>
                        </field>
                        <group class="oe_subtotal_footer oe_right">
                            <field name="unpaid_amount_due"/>
                        </group>
                        <div class="oe_clear"/>
                    </page>
                </xpath>
            </field>
        </record>


        <!--<record model="ir.ui.view" id="crm_view_users_form_inherit">-->
            <!--<field name="name">crm.res.users.form</field>-->
            <!--<field name="model">res.users</field>-->
            <!--<field name="inherit_id" ref="sales_team.res_user_form"/>-->
            <!--<field name="arch" type="xml">-->
                <!--<xpath expr="//field[@name='default_section_id']" position="replace">-->
                    <!--<field name="default_section_id" string="Département"/>-->
                <!--</xpath>-->
            <!--</field>-->
        <!--</record>-->

        <record id="act_res_partner_due_view" model="ir.actions.act_window">
            <field name="name">Garanties échus</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="domain">[('due_date','&lt;',time.strftime('%Y-%m-%d')),('deadline_garanty','&gt;',time.strftime('%Y-%m-%d')),('deadline_ok','=',False)]</field>
            <field name="filter" eval="True"/>
        </record>

        <menuitem id="menu_partner_partner_due_form" name="Garanties échus" parent="base.menu_sales" action="act_res_partner_due_view" sequence="3"/>


        <record id="action_partner_owner_form" model="ir.actions.act_window">
            <field name="name">Maîtres d'ouvrage</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('owner','=',1)]</field>
            <field name="context">{'default_owner':1,'default_customer': 0,'default_supplier': 0,'default_office_study': 0, 'search_default_owner':1}</field>
            <field name="filter" eval="True"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add a contact in your address book.
              </p><p>
                Odoo helps you easily track all activities related to
                a customer: discussions, history of business opportunities,
                documents, etc.
              </p>
            </field>
        </record>

        <record id="action_partner_office_study_form" model="ir.actions.act_window">
            <field name="name">Bureaux d'Étude</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="domain">[('office_study','=',1)]</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{'search_default_office_study': 1,'default_customer': 0,'default_supplier': 0,'default_owner': 0,'default_office_study': 1}</field>
            <field name="filter" eval="True"/>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to add a contact in your address book.
              </p><p>
                Odoo helps you easily track all activities related to
                a supplier: discussions, history of purchases,
                documents, etc.
              </p>
            </field>
        </record>

        <menuitem id="menu_partner_owner_form" parent="base.menu_sales" action="action_partner_owner_form" sequence="4"/>
        <menuitem id="menu_partner_office_study_form" parent="base.menu_sales" action="action_partner_office_study_form" sequence="5"/>

        <record model="ir.ui.view" id="history_account_followup_form_view">
            <field name="name">account.followup.history.form</field>
            <field name="model">account.followup.history</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="History" version="8.O">
                    <group >
                        <field name="partner_id"  />
                        <field name="followup_date"  />
                    </group>
                    <notebook>
                        <page string="Lignes">
                            <field name="line_ids" nolabel="1">
                                <tree string="invoices" editable="bottom" readonly="1">
                                    <field name="invoice_date" />
                                    <field name="number" />
                                    <field name="deadline_date" />
                                    <field name="deadline_delay" />
                                    <field name="invoice_amount" />
                                    <field name="note" />
                                </tree>
                            </field>
                            <group class="oe_subtotal_footer oe_right" colspan="2" name="history_followup_amount">
                                <field name="followup_amount"  />
                            </group>
                        </page>
                        <page string="Actions" readonly="1">
                            <group string="Actions">
                                <field name="note" groups="" nolabel="1"/>
                            </group>
                        </page>
                        <page string="Promesses" readonly="1">
                            <group string="Promesses">
                                <field name="payment_note" groups="" nolabel="1"/>
                            </group>
                        </page>
                        <page string="Mails" readonly="1">
                            <group string="Mails">
                                <field name="email_note" widget="html" nolabel="1"/>
                            </group>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="history_account_followup_tree_view">
            <field name="name">account.followup.history.tree</field>
            <field name="model">account.followup.history</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="History">
                    <field name="partner_id"  />
                    <field name="followup_date"  />
                    <field name="followup_amount"  />
                </tree>
            </field>
        </record>

        <record id="view_account_followup_filter" model="ir.ui.view">
            <field name="name">account.followup.history.select</field>
            <field name="model">account.followup.history</field>
            <field name="arch" type="xml">
                <search string="Search Stock Removal">
                    <field name="partner_id" />
                    <field name="followup_date"/>
                    <separator/>
                    <group expand="0" string="Group By">
                        <filter string="Client" domain="[]" context="{'group_by':'partner_id'}"/>
                    </group>
               </search>
            </field>
        </record>


        <record model="ir.actions.act_window" id="action_history_account_followup_tree_view">
            <field name="name">Historiques des relances</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.followup.history</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="base.menu_sales_followup" parent="base.menu_base_partner" name="Relances de Paiement" groups="account.group_account_invoice" sequence="2"/>
        <menuitem id="menu_history_account" parent="base.menu_sales_followup" action="action_history_account_followup_tree_view" sequence="2"/>

        <record model="ir.ui.view" id="res_partner_blocking_pattern_form_view">
            <field name="name">cres.partner.blocking.pattern.form</field>
            <field name="model">res.partner.blocking.pattern</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="blocking" version="8.O">
                    <group >
                        <field name="name"  />
                    </group>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="res_partner_blocking_pattern_tree_view">
            <field name="name">res.partner.blocking.pattern.tree</field>
            <field name="model">res.partner.blocking.pattern</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="blocking">
                    <field name="name"  />
                </tree>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_res_partner_blocking_pattern_tree_view">
            <field name="name">Motifs de blockage</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner.blocking.pattern</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_partner_blocking_pattern_list" parent="base.menu_crm_config_lead" action="action_res_partner_blocking_pattern_tree_view" sequence="10"/>

        <record model="ir.ui.view" id="res_partner_code_form_view">
            <field name="name">cres.partner.code.form</field>
            <field name="model">res.partner.code</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="code" version="8.O">
                    <group >
                        <field name="name"  />
                        <field name="customer_indice"  />
                        <field name="supplier_indice_provider_foreign"  />
                        <field name="supplier_indice_local"  />
                        <field name="supplier_indice_several"  />
                    </group>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="res_partner_code_tree_view">
            <field name="name">res.partner.code.tree</field>
            <field name="model">res.partner.code</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="code">
                    <field name="name"  />
                    <field name="customer_indice"  />
                    <field name="supplier_indice_provider_foreign"  />
                    <field name="supplier_indice_local"  />
                    <field name="supplier_indice_several"  />
                </tree>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_res_partner_code_tree_view">
            <field name="name">Matrice des lettres</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner.code</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_partner_code_list" parent="base.menu_base_config" action="action_res_partner_code_tree_view" sequence="1"/>

        <report
            id="base.res_partner_address_report"
            model="res.partner"
            name="res.partner"
            string="Labels"
            xml="base/res/res_partner_report_address.xml"
            xsl="base/res/res_partner_report_address.xsl"
            groups="base.group_no_one"
            menu="False"
        />

        <report
            id="account.action_report_print_overdue"
            model="res.partner"
            report_type="qweb-pdf"
            string="Due Payments"
            name="account.report_overdue"
            file="account.report_overdue"
            menu="False"
        />

        <!--<report-->
            <!--id="account.action_report_partner_ledger"-->
            <!--model="res.partner"-->
            <!--string="Partner Ledger"-->
            <!--report_type="qweb-pdf"-->
            <!--name="account.report_partnerledger"-->
            <!--file="account.report_partnerledger"-->
            <!--menu="False"-->
        <!--/>-->

        <delete id="sale_stock.res_partner_rule_children" model="ir.actions.act_window"/>

        <record model="ir.cron" id="calculation_of_days_of_delay">
           <field name="name">Calcul de nombre de jours de retard dans la relance</field>
            <field name="interval_number">1</field>
            <field name="interval_type">days</field>
            <field name="numbercall">-1</field>
            <field name="doall" eval="False"/>
            <field name="model">res.partner</field>
            <field name="function">compute_deadline_delay</field>
            <field name="args">()</field>
            <field name="active" eval="False"/>
        </record>

        <record id="account_followup.action_customer_my_followup" model="ir.actions.act_window">
            <field name="name">My Follow-Ups</field>
            <field name="view_id" ref="account_followup.customer_followup_tree"/>
            <field name="res_model">res.partner</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('payment_amount_due', '>', 0.0)]</field>
            <field name="context">{'Followupfirst':True,'search_default_credits': True,'search_default_my': True} </field>
            <field name="search_view_id" ref="account_followup.customer_followup_search_view"/>
        </record>



    </data>

</openerp>
